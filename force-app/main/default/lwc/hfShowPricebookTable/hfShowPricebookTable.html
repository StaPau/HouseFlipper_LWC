<template>
    <template if:false={data}>
            <lightning-spinner alternative-text={label.Loading} size="large"></lightning-spinner>
    </template>
    <c-hf-show-add-pricebook-entries-modal if:true={addProductClicked} add-product-clicked={addProductClicked}
                                           row={row} onmodalclosed={getAddProductModalFlag} 
                                           refreshed-pricebooks={refreshedPricebooks} value={value}
                                           onproductsaddition={getProductsAddedFlag}
                                           ></c-hf-show-add-pricebook-entries-modal>
    <c-hf-show-edit-pricebook-modal if:true={editPricebookClicked} edit-pricebook-clicked={editPricebookClicked} row={row}
                                    refreshed-pricebooks={refreshedPricebooks} value={row.RecordTypeId}
                                    onmodalclosed={getEditModalFlag}></c-hf-show-edit-pricebook-modal>

        <c-hfaddpricebookmodal if:true={isModalOpen} is-modal-open={isModalOpen} 
                                    refreshed-pricebooks={refreshedPricebooks} onmodalclosed={getAddPricebookModalFlag} ></c-hfaddpricebookmodal>
                                    
        <c-hf-show-pricebook-entries if:true={viewProductsClicked} view-products-clicked={viewProductsClicked} row={row}
                                    refreshed-pricebooks={refreshedPricebooks} value={row.RecordTypeId}
                                    onmodalclosed={getViewModalFlag} onproductsaddition={getRefreshedPricebookEntries}
                                    are-products-added={areProductsAdded}></c-hf-show-pricebook-entries>

        <div style="height:75%; max-height: 750px; padding-top:2%">
            <lightning-datatable
                    key-field="id"
                    columns={columns}
                    data={data}
                    onrowaction={handleRowAction}
                    enable-infinite-loading
                    >
            </lightning-datatable>
    </div>
</template>